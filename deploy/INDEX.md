# Dimensio éƒ¨ç½²æ–‡ä»¶ç´¢å¼•

æœ¬ç›®å½•åŒ…å«äº† Dimensio é¡¹ç›®çš„å®Œæ•´éƒ¨ç½²é…ç½®å’Œè„šæœ¬ã€‚

## ğŸ“‚ ç›®å½•ç»“æ„

```
deploy/
â”œâ”€â”€ README.md                      # è¯¦ç»†éƒ¨ç½²æ–‡æ¡£
â”œâ”€â”€ QUICKSTART.md                  # å¿«é€Ÿéƒ¨ç½²æŒ‡å—ï¼ˆ5åˆ†é’Ÿä¸Šæ‰‹ï¼‰
â”œâ”€â”€ CHECKLIST.md                   # éƒ¨ç½²æ£€æŸ¥æ¸…å•
â”œâ”€â”€ INDEX.md                       # æœ¬æ–‡ä»¶ï¼ˆç´¢å¼•ï¼‰
â”‚
â”œâ”€â”€ .env.example                   # ç¯å¢ƒå˜é‡é…ç½®æ¨¡æ¿
â”œâ”€â”€ deploy.sh                      # ä¸€é”®éƒ¨ç½²è„šæœ¬
â”œâ”€â”€ requirements-deploy.txt        # éƒ¨ç½²ä¸“ç”¨ä¾èµ–
â”‚
â”œâ”€â”€ nginx/
â”‚   â””â”€â”€ dimensio.conf             # Nginx é…ç½®æ–‡ä»¶
â”‚
â”œâ”€â”€ systemd/
â”‚   â””â”€â”€ dimensio-api.service      # Systemd æœåŠ¡é…ç½®
â”‚
â””â”€â”€ docker/
    â”œâ”€â”€ README.md                  # Docker éƒ¨ç½²è¯´æ˜
    â”œâ”€â”€ Dockerfile                 # Docker é•œåƒå®šä¹‰
    â”œâ”€â”€ docker-compose.yml         # Docker Compose é…ç½®
    â””â”€â”€ nginx.conf                 # Docker ç‰ˆ Nginx é…ç½®
```

## ğŸ“– æ–‡æ¡£è¯´æ˜

### æ ¸å¿ƒæ–‡æ¡£

#### 1. README.md - è¯¦ç»†éƒ¨ç½²æ–‡æ¡£
**é€‚ç”¨äº**: é¦–æ¬¡éƒ¨ç½²ã€éœ€è¦æ·±å…¥äº†è§£é…ç½®ç»†èŠ‚

**å†…å®¹åŒ…æ‹¬**:
- ç³»ç»Ÿè¦æ±‚å’Œè½¯ä»¶ä¾èµ–
- è¯¦ç»†çš„éƒ¨ç½²æ­¥éª¤
- é…ç½®è¯´æ˜å’Œè°ƒä¼˜å»ºè®®
- æœåŠ¡ç®¡ç†å’Œç»´æŠ¤
- æ•…éšœæ’æŸ¥å’Œæ€§èƒ½ä¼˜åŒ–
- å®‰å…¨å»ºè®®

**ä½•æ—¶ä½¿ç”¨**:
- é¦–æ¬¡éƒ¨ç½²æ—¶å®Œæ•´é˜…è¯»
- é‡åˆ°é—®é¢˜æ—¶æŸ¥æ‰¾è§£å†³æ–¹æ¡ˆ
- éœ€è¦è‡ªå®šä¹‰é…ç½®æ—¶å‚è€ƒ

#### 2. QUICKSTART.md - å¿«é€Ÿéƒ¨ç½²æŒ‡å—
**é€‚ç”¨äº**: å¿«é€Ÿéƒ¨ç½²ã€ç†Ÿæ‚‰ Linux çš„ç”¨æˆ·

**å†…å®¹åŒ…æ‹¬**:
- 5åˆ†é’Ÿå¿«é€Ÿéƒ¨ç½²æµç¨‹
- æœ€å°‘å¿…è¦é…ç½®
- å¸¸ç”¨å‘½ä»¤å‚è€ƒ
- å¿«é€Ÿæ•…éšœæ’æŸ¥

**ä½•æ—¶ä½¿ç”¨**:
- æµ‹è¯•ç¯å¢ƒå¿«é€Ÿæ­å»º
- å·²ç»ç†Ÿæ‚‰éƒ¨ç½²æµç¨‹
- éœ€è¦å¿«é€Ÿå‚è€ƒå‘½ä»¤

#### 3. CHECKLIST.md - éƒ¨ç½²æ£€æŸ¥æ¸…å•
**é€‚ç”¨äº**: ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²ã€ç¡®ä¿éƒ¨ç½²å®Œæ•´æ€§

**å†…å®¹åŒ…æ‹¬**:
- éƒ¨ç½²å‰å‡†å¤‡æ£€æŸ¥
- éƒ¨ç½²è¿‡ç¨‹éªŒè¯
- åŠŸèƒ½æµ‹è¯•æ¸…å•
- å®‰å…¨æ£€æŸ¥é¡¹
- ç›‘æ§å’Œæ—¥å¿—é…ç½®

**ä½•æ—¶ä½¿ç”¨**:
- ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å‰
- éƒ¨ç½²å®ŒæˆåéªŒè¯
- å®šæœŸå®‰å…¨å®¡è®¡

## ğŸ”§ é…ç½®æ–‡ä»¶

### .env.example
ç¯å¢ƒå˜é‡é…ç½®æ¨¡æ¿ï¼ŒåŒ…å«æ‰€æœ‰å¯é…ç½®é¡¹ã€‚

**ä½¿ç”¨æ­¥éª¤**:
```bash
cp .env.example .env
nano .env  # ä¿®æ”¹é…ç½®
```

**å¿…é¡»ä¿®æ”¹çš„é…ç½®**:
- `SERVER_NAME`: åŸŸåæˆ– IP åœ°å€
- å…¶ä»–é…ç½®é€šå¸¸ä½¿ç”¨é»˜è®¤å€¼å³å¯

### nginx/dimensio.conf
Nginx åå‘ä»£ç†é…ç½®ï¼Œå¤„ç†å‰ç«¯é™æ€æ–‡ä»¶å’Œ API ä»£ç†ã€‚

**ç‰¹æ€§**:
- å‰ç«¯é™æ€æ–‡ä»¶æœåŠ¡
- API åå‘ä»£ç†åˆ° Flask
- é™æ€èµ„æºç¼“å­˜
- é•¿è¶…æ—¶æ”¯æŒï¼ˆ600ç§’ï¼‰
- HTTPS é…ç½®æ¨¡æ¿ï¼ˆå¯é€‰ï¼‰

### systemd/dimensio-api.service
Systemd æœåŠ¡é…ç½®ï¼Œä½¿ API æœåŠ¡å¼€æœºè‡ªå¯åŠ¨å’Œè‡ªåŠ¨é‡å¯ã€‚

**ç‰¹æ€§**:
- è‡ªåŠ¨å¯åŠ¨
- å¤±è´¥è‡ªåŠ¨é‡å¯
- æ—¥å¿—è®°å½•
- èµ„æºé™åˆ¶

## ğŸš€ éƒ¨ç½²æ–¹å¼

### æ–¹å¼ 1: ä¼ ç»Ÿéƒ¨ç½²ï¼ˆæ¨èç”Ÿäº§ç¯å¢ƒï¼‰

**ä¼˜åŠ¿**:
- âœ… æ€§èƒ½æœ€ä¼˜
- âœ… ç›´æ¥æ§åˆ¶ç³»ç»Ÿ
- âœ… æ˜“äºè°ƒè¯•
- âœ… é€‚åˆé•¿æœŸè¿è¡Œ

**ä½¿ç”¨æ–‡æ¡£**: README.md + QUICKSTART.md

**éƒ¨ç½²å‘½ä»¤**:
```bash
cd deploy
cp .env.example .env
nano .env  # ä¿®æ”¹ SERVER_NAME
sudo ./deploy.sh install
```

**é€‚ç”¨åœºæ™¯**:
- ç”Ÿäº§ç¯å¢ƒ
- å•æœåŠ¡å™¨éƒ¨ç½²
- æ€§èƒ½è¦æ±‚é«˜

### æ–¹å¼ 2: Docker éƒ¨ç½²

**ä¼˜åŠ¿**:
- âœ… ç¯å¢ƒä¸€è‡´
- âœ… å¿«é€Ÿéƒ¨ç½²
- âœ… æ˜“äºè¿ç§»
- âœ… ä¾¿äºæ‰©å±•

**ä½¿ç”¨æ–‡æ¡£**: docker/README.md

**éƒ¨ç½²å‘½ä»¤**:
```bash
cd deploy/docker
docker-compose up -d
```

**é€‚ç”¨åœºæ™¯**:
- å¼€å‘/æµ‹è¯•ç¯å¢ƒ
- å¤šç¯å¢ƒéƒ¨ç½²
- å®¹å™¨åŒ–åŸºç¡€è®¾æ–½
- éœ€è¦å¿«é€Ÿæ‰©å±•

## ğŸ“‹ éƒ¨ç½²æµç¨‹

### å¿«é€Ÿéƒ¨ç½²ï¼ˆ5åˆ†é’Ÿï¼‰

```bash
# 1. å‡†å¤‡æœåŠ¡å™¨
sudo apt update && sudo apt install -y python3 python3-pip python3-venv \
                                       nodejs npm nginx git curl

# 2. ä¸Šä¼ é¡¹ç›®
git clone https://github.com/Elubrazione/dimensio.git
cd dimensio/deploy

# 3. é…ç½®
cp .env.example .env
nano .env  # ä¿®æ”¹ SERVER_NAME

# 4. éƒ¨ç½²
sudo ./deploy.sh install

# 5. éªŒè¯
sudo ./deploy.sh status
curl http://localhost:5000/
```

### å®Œæ•´éƒ¨ç½²ï¼ˆæ¨èç”Ÿäº§ç¯å¢ƒï¼‰

æŒ‰ç…§ CHECKLIST.md ä¸­çš„æ­¥éª¤é€é¡¹æ£€æŸ¥ï¼š

1. âœ… æœåŠ¡å™¨å‡†å¤‡
2. âœ… ä¾èµ–å®‰è£…
3. âœ… é…ç½®ä¿®æ”¹
4. âœ… æ‰§è¡Œéƒ¨ç½²
5. âœ… åŠŸèƒ½æµ‹è¯•
6. âœ… å®‰å…¨æ£€æŸ¥
7. âœ… ç›‘æ§é…ç½®
8. âœ… å¤‡ä»½è®¾ç½®

## ğŸ› ï¸ deploy.sh è„šæœ¬å‘½ä»¤

ä¸€é”®éƒ¨ç½²è„šæœ¬ï¼Œæ”¯æŒå¤šç§æ“ä½œï¼š

```bash
sudo ./deploy.sh install   # å…¨æ–°å®‰è£…
sudo ./deploy.sh update    # æ›´æ–°ä»£ç 
sudo ./deploy.sh restart   # é‡å¯æœåŠ¡
sudo ./deploy.sh stop      # åœæ­¢æœåŠ¡
sudo ./deploy.sh status    # æŸ¥çœ‹çŠ¶æ€
sudo ./deploy.sh logs      # æŸ¥çœ‹æ—¥å¿—
sudo ./deploy.sh backup    # å¤‡ä»½æ•°æ®
sudo ./deploy.sh clean     # æ¸…ç†ä¸´æ—¶æ–‡ä»¶
```

## ğŸ” é€‰æ‹©åˆé€‚çš„éƒ¨ç½²æ–¹å¼

### å†³ç­–æ ‘

```
ä½ çš„éœ€æ±‚æ˜¯ä»€ä¹ˆï¼Ÿ
â”‚
â”œâ”€ å¿«é€Ÿæµ‹è¯•/å¼€å‘
â”‚  â””â”€ ä½¿ç”¨ Docker éƒ¨ç½²
â”‚     â””â”€ å‚è€ƒ: docker/README.md
â”‚
â”œâ”€ ç”Ÿäº§ç¯å¢ƒ/é«˜æ€§èƒ½
â”‚  â””â”€ ä½¿ç”¨ä¼ ç»Ÿéƒ¨ç½²
â”‚     â”œâ”€ å¿«é€Ÿä¸Šæ‰‹: QUICKSTART.md
â”‚     â””â”€ è¯¦ç»†é…ç½®: README.md
â”‚
â””â”€ å¤šç¯å¢ƒ/å¯ç§»æ¤
   â””â”€ ä½¿ç”¨ Docker éƒ¨ç½²
      â””â”€ å‚è€ƒ: docker/README.md
```

### å¯¹æ¯”è¡¨

| ç‰¹æ€§ | ä¼ ç»Ÿéƒ¨ç½² | Docker éƒ¨ç½² |
|------|---------|-----------|
| éƒ¨ç½²é€Ÿåº¦ | ğŸ¢ è¾ƒæ…¢ï¼ˆ10-15åˆ†é’Ÿï¼‰ | âš¡ å¿«ï¼ˆ5åˆ†é’Ÿï¼‰ |
| æ€§èƒ½ | â­â­â­â­â­ æœ€ä¼˜ | â­â­â­â­ ä¼˜ç§€ |
| èµ„æºå ç”¨ | ğŸ’¾ ä½ | ğŸ’¾ ä¸­ç­‰ |
| ç¯å¢ƒä¸€è‡´æ€§ | âš ï¸ å¯èƒ½ä¸åŒ | âœ… å®Œå…¨ä¸€è‡´ |
| è°ƒè¯•éš¾åº¦ | âœ… ç®€å• | âš ï¸ éœ€è¦å®¹å™¨çŸ¥è¯† |
| æ‰©å±•æ€§ | âš ï¸ æ‰‹åŠ¨ | âœ… è‡ªåŠ¨åŒ– |
| å›æ»š | âš ï¸ éœ€è¦å¤‡ä»½ | âœ… ç§’çº§å›æ»š |

## ğŸ“ è·å–å¸®åŠ©

### æ–‡æ¡£ä¼˜å…ˆçº§

1. **å¿«é€Ÿé—®é¢˜**: QUICKSTART.md
2. **è¯¦ç»†é…ç½®**: README.md
3. **Docker ç›¸å…³**: docker/README.md
4. **éƒ¨ç½²éªŒè¯**: CHECKLIST.md

### å¸¸è§é—®é¢˜

- **æœåŠ¡æ— æ³•å¯åŠ¨**: æŸ¥çœ‹ README.md > æ•…éšœæ’æŸ¥
- **æ€§èƒ½ä¼˜åŒ–**: æŸ¥çœ‹ README.md > æ€§èƒ½ä¼˜åŒ–
- **å®‰å…¨é…ç½®**: æŸ¥çœ‹ README.md > å®‰å…¨å»ºè®®
- **Docker é—®é¢˜**: æŸ¥çœ‹ docker/README.md > æ•…éšœæ’æŸ¥

### è”ç³»æ–¹å¼

- ğŸ“– é¡¹ç›®æ–‡æ¡£: https://github.com/Elubrazione/dimensio
- ğŸ› æäº¤ Issue: https://github.com/Elubrazione/dimensio/issues
- ğŸ“§ è”ç³»ä½œè€…: lingchingtung@stu.pku.edu.cn

## ğŸ¯ å¿«é€Ÿå‚è€ƒ

### é¦–æ¬¡éƒ¨ç½²

```bash
# é€‰æ‹©éƒ¨ç½²æ–¹å¼
æ–¹å¼1: sudo ./deploy.sh install      # ä¼ ç»Ÿéƒ¨ç½²
æ–¹å¼2: docker-compose up -d          # Docker éƒ¨ç½²
```

### æ—¥å¸¸è¿ç»´

```bash
# æŸ¥çœ‹çŠ¶æ€
sudo ./deploy.sh status

# æŸ¥çœ‹æ—¥å¿—
sudo ./deploy.sh logs
tail -f /var/log/dimensio/*.log

# é‡å¯æœåŠ¡
sudo ./deploy.sh restart

# å¤‡ä»½æ•°æ®
sudo ./deploy.sh backup
```

### æ•…éšœå¤„ç†

```bash
# 1. æ£€æŸ¥æœåŠ¡çŠ¶æ€
sudo systemctl status dimensio-api nginx

# 2. æŸ¥çœ‹æ—¥å¿—
sudo journalctl -u dimensio-api -n 100
tail -f /var/log/nginx/dimensio_error.log

# 3. é‡å¯å°è¯•
sudo ./deploy.sh restart

# 4. æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£
# å‚è€ƒ README.md æ•…éšœæ’æŸ¥ç« èŠ‚
```

---

**ç¥ä½ éƒ¨ç½²é¡ºåˆ©ï¼** ğŸ‰

å¦‚æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·å‚è€ƒå¯¹åº”çš„æ–‡æ¡£æˆ–æäº¤ Issueã€‚
